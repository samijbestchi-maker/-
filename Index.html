<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>일기 블로그</title>
<style>
body{font-family:sans-serif;background:#f6f7fb;margin:0;padding:20px;max-width:600px;margin:auto}
h1{text-align:center}
form{background:#fff;padding:15px;border-radius:8px;box-shadow:0 0 5px rgba(0,0,0,0.1);margin-bottom:20px}
input,textarea{width:100%;margin:5px 0;padding:8px;border:1px solid #ccc;border-radius:4px}
button{padding:8px 12px;margin-top:6px;background:#3b82f6;color:#fff;border:none;border-radius:4px;cursor:pointer}
.post{background:#fff;padding:12px;border-radius:6px;box-shadow:0 0 4px rgba(0,0,0,0.1);margin-bottom:10px}
.post h3{margin:0}
.post small{color:#555}
.del{float:right;background:#ef4444}
</style>
</head>
<body>
<h1>나의 일기 블로그</h1>

<form id="form">
  <input id="title" placeholder="제목" required>
  <textarea id="content" placeholder="오늘의 일기를 적어보세요" required></textarea>
  <button type="submit">저장</button>
</form>

<div id="list"></div>

<script>
const form=document.getElementById("form");
const list=document.getElementById("list");
let posts=JSON.parse(localStorage.getItem("diary")||"[]");

function save(){
  localStorage.setItem("diary",JSON.stringify(posts));
}

function render(){
  list.innerHTML="";
  if(posts.length===0){list.innerHTML="<p>작성된 일기가 없습니다.</p>";return;}
  posts.forEach((p,i)=>{
    const div=document.createElement("div");
    div.className="post";
    div.innerHTML=`<h3>${p.title}<button class="del" onclick="del(${i})">삭제</button></h3>
    <small>${p.date}</small><p>${p.content}</p>`;
    list.appendChild(div);
  });
}

function del(i){
  posts.splice(i,1);
  save();render();
}

form.onsubmit=e=>{
  e.preventDefault();
  const title=document.getElementById("title").value.trim();
  const content=document.getElementById("content").value.trim();
  if(!title||!content)return;
  posts.unshift({title,content,date:new Date().toLocaleString()});
  save();render();
  form.reset();
};

render();
</script>
</body>
</html>
